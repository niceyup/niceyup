/**
 * Generated by Kubb (https://kubb.dev/).
 * Do not edit manually.
 */

import fetch from '../../../../client/fetch-react-query'
import type {
  RequestConfig,
  ResponseErrorConfig,
} from '../../../../client/fetch-react-query'
import type {
  RegenerateMessageMutationRequest,
  RegenerateMessageMutationResponse,
  RegenerateMessagePathParams,
  RegenerateMessage400,
  RegenerateMessage401,
  RegenerateMessage403,
  RegenerateMessage404,
  RegenerateMessage429,
  RegenerateMessage500,
} from '../../types/RegenerateMessage'

function getRegenerateMessageUrl({
  conversationId,
  messageId,
}: {
  conversationId: RegenerateMessagePathParams['conversationId']
  messageId: RegenerateMessagePathParams['messageId']
}) {
  return `/conversations/${conversationId}/messages/${messageId}/regenerate` as const
}

/**
 * @description Regenerate assistant message
 * {@link /conversations/:conversationId/messages/:messageId/regenerate}
 */
export async function regenerateMessage(
  {
    conversationId,
    messageId,
    data,
  }: {
    conversationId: RegenerateMessagePathParams['conversationId']
    messageId: RegenerateMessagePathParams['messageId']
    data: RegenerateMessageMutationRequest
  },
  config: Partial<RequestConfig<RegenerateMessageMutationRequest>> & {
    client?: typeof fetch
  } = {},
) {
  const { client: request = fetch, ...requestConfig } = config

  const requestData = data
  const res = await request<
    RegenerateMessageMutationResponse,
    ResponseErrorConfig<
      | RegenerateMessage400
      | RegenerateMessage401
      | RegenerateMessage403
      | RegenerateMessage404
      | RegenerateMessage429
      | RegenerateMessage500
    >,
    RegenerateMessageMutationRequest
  >({
    method: 'POST',
    url: getRegenerateMessageUrl({ conversationId, messageId }).toString(),
    data: requestData,
    ...requestConfig,
  })
  return res.data
}
