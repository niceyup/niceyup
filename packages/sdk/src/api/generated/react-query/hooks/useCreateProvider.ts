/**
 * Generated by Kubb (https://kubb.dev/).
 * Do not edit manually.
 */

import fetch from '../../../../client/fetch-react-query'
import type {
  RequestConfig,
  ResponseErrorConfig,
} from '../../../../client/fetch-react-query'
import type {
  CreateProviderMutationRequest,
  CreateProviderMutationResponse,
  CreateProvider400,
  CreateProvider401,
  CreateProvider403,
  CreateProvider404,
  CreateProvider429,
  CreateProvider500,
} from '../../types/CreateProvider'
import type { UseMutationOptions, QueryClient } from '@tanstack/react-query'
import { createProvider } from '../operations/createProvider'
import { useMutation } from '@tanstack/react-query'

export const createProviderMutationKey = () => [{ url: '/providers' }] as const

export type CreateProviderMutationKey = ReturnType<
  typeof createProviderMutationKey
>

/**
 * @description Create a new provider
 * {@link /providers}
 */
export function useCreateProvider<TContext>(
  options: {
    mutation?: UseMutationOptions<
      CreateProviderMutationResponse,
      ResponseErrorConfig<
        | CreateProvider400
        | CreateProvider401
        | CreateProvider403
        | CreateProvider404
        | CreateProvider429
        | CreateProvider500
      >,
      { data: CreateProviderMutationRequest },
      TContext
    > & { client?: QueryClient }
    client?: Partial<RequestConfig<CreateProviderMutationRequest>> & {
      client?: typeof fetch
    }
  } = {},
) {
  const { mutation = {}, client: config = {} } = options ?? {}
  const { client: queryClient, ...mutationOptions } = mutation
  const mutationKey = mutationOptions.mutationKey ?? createProviderMutationKey()

  return useMutation<
    CreateProviderMutationResponse,
    ResponseErrorConfig<
      | CreateProvider400
      | CreateProvider401
      | CreateProvider403
      | CreateProvider404
      | CreateProvider429
      | CreateProvider500
    >,
    { data: CreateProviderMutationRequest },
    TContext
  >(
    {
      mutationFn: async ({ data }) => {
        return createProvider({ data }, config)
      },
      mutationKey,
      ...mutationOptions,
    },
    queryClient,
  )
}
