/**
 * Generated by Kubb (https://kubb.dev/).
 * Do not edit manually.
 */

import fetch from '../../../client/fetch'
import type { RequestConfig, ResponseErrorConfig } from '../../../client/fetch'
import type {
  ListSourceIndexesQueryResponse,
  ListSourceIndexesPathParams,
  ListSourceIndexesQueryParams,
  ListSourceIndexes400,
  ListSourceIndexes401,
  ListSourceIndexes403,
  ListSourceIndexes404,
  ListSourceIndexes429,
  ListSourceIndexes500,
} from '../types/ListSourceIndexes'

function getListSourceIndexesUrl({
  agentId,
}: { agentId: ListSourceIndexesPathParams['agentId'] }) {
  return `/agents/${agentId}/source-indexes` as const
}

/**
 * @description Get all source indexes of an agent
 * {@link /agents/:agentId/source-indexes}
 */
export async function listSourceIndexes(
  {
    agentId,
    params,
  }: {
    agentId: ListSourceIndexesPathParams['agentId']
    params?: ListSourceIndexesQueryParams
  },
  config: Partial<RequestConfig> & { client?: typeof fetch } = {},
) {
  const { client: request = fetch, ...requestConfig } = config

  const res = await request<
    ListSourceIndexesQueryResponse,
    ResponseErrorConfig<
      | ListSourceIndexes400
      | ListSourceIndexes401
      | ListSourceIndexes403
      | ListSourceIndexes404
      | ListSourceIndexes429
      | ListSourceIndexes500
    >,
    unknown
  >({
    method: 'GET',
    url: getListSourceIndexesUrl({ agentId }).toString(),
    params,
    ...requestConfig,
  })
  return res
}
