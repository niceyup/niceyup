/**
 * Generated by Kubb (https://kubb.dev/).
 * Do not edit manually.
 */

import fetch from '../../../client/fetch'
import type { RequestConfig, ResponseErrorConfig } from '../../../client/fetch'
import type {
  UpdateSourceIndexesMutationRequest,
  UpdateSourceIndexesMutationResponse,
  UpdateSourceIndexesPathParams,
  UpdateSourceIndexes400,
  UpdateSourceIndexes401,
  UpdateSourceIndexes403,
  UpdateSourceIndexes404,
  UpdateSourceIndexes429,
  UpdateSourceIndexes500,
} from '../types/UpdateSourceIndexes'

function getUpdateSourceIndexesUrl({
  agentId,
}: { agentId: UpdateSourceIndexesPathParams['agentId'] }) {
  return `/agents/${agentId}/source-indexes` as const
}

/**
 * @description Update source indexes of an agent
 * {@link /agents/:agentId/source-indexes}
 */
export async function updateSourceIndexes(
  {
    agentId,
    data,
  }: {
    agentId: UpdateSourceIndexesPathParams['agentId']
    data: UpdateSourceIndexesMutationRequest
  },
  config: Partial<RequestConfig<UpdateSourceIndexesMutationRequest>> & {
    client?: typeof fetch
  } = {},
) {
  const { client: request = fetch, ...requestConfig } = config

  const requestData = data
  const res = await request<
    UpdateSourceIndexesMutationResponse,
    ResponseErrorConfig<
      | UpdateSourceIndexes400
      | UpdateSourceIndexes401
      | UpdateSourceIndexes403
      | UpdateSourceIndexes404
      | UpdateSourceIndexes429
      | UpdateSourceIndexes500
    >,
    UpdateSourceIndexesMutationRequest
  >({
    method: 'PATCH',
    url: getUpdateSourceIndexesUrl({ agentId }).toString(),
    data: requestData,
    ...requestConfig,
  })
  return res
}
