/**
 * Generated by Kubb (https://kubb.dev/).
 * Do not edit manually.
 */

import fetch from '../../../client/fetch'
import type { RequestConfig, ResponseErrorConfig } from '../../../client/fetch'
import type {
  ResendMessageMutationRequest,
  ResendMessageMutationResponse,
  ResendMessagePathParams,
  ResendMessage400,
  ResendMessage401,
  ResendMessage403,
  ResendMessage404,
  ResendMessage429,
  ResendMessage500,
} from '../types/ResendMessage'

function getResendMessageUrl({
  conversationId,
  messageId,
}: {
  conversationId: ResendMessagePathParams['conversationId']
  messageId: ResendMessagePathParams['messageId']
}) {
  return `/conversations/${conversationId}/messages/${messageId}/resend` as const
}

/**
 * @description Resend user message
 * {@link /conversations/:conversationId/messages/:messageId/resend}
 */
export async function resendMessage(
  {
    conversationId,
    messageId,
    data,
  }: {
    conversationId: ResendMessagePathParams['conversationId']
    messageId: ResendMessagePathParams['messageId']
    data: ResendMessageMutationRequest
  },
  config: Partial<RequestConfig<ResendMessageMutationRequest>> & {
    client?: typeof fetch
  } = {},
) {
  const { client: request = fetch, ...requestConfig } = config

  const requestData = data
  const res = await request<
    ResendMessageMutationResponse,
    ResponseErrorConfig<
      | ResendMessage400
      | ResendMessage401
      | ResendMessage403
      | ResendMessage404
      | ResendMessage429
      | ResendMessage500
    >,
    ResendMessageMutationRequest
  >({
    method: 'POST',
    url: getResendMessageUrl({ conversationId, messageId }).toString(),
    data: requestData,
    ...requestConfig,
  })
  return res
}
